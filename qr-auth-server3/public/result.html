<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Usuario Autenticado</title>
    <style>
        #user-status {
            position: fixed;
            top: 10px;
            right: 10px;
            border: 1px solid black;
            padding: 5px;
        }
        .menu {
            display: none;
            margin-top: 20px;
        }
        .menu-opcion {
            width: 150px;
            height: 150px;
            margin: 10px;
            display: inline-block;
            text-align: center;
            vertical-align: middle;
            line-height: 150px;
            cursor: pointer;
            border-radius: 10px;
            transition: transform 0.3s;
        }
        .menu-opcion:hover {
            transform: scale(1.1);
        }
        .profesor1, .alumno1 { background-color: lightblue; }
        .profesor2, .alumno2 { background-color: lightgreen; }
        .profesor3, .alumno3 { background-color: lightcoral; }
        .alumno4 { background-color: lightgoldenrodyellow; }
    </style>
</head>
<body>
    <div id="user-status">Desconectado</div>

    <h1>Usuario Autenticado</h1>
    
    <div id="menu-profesor" class="menu">
        <div class="menu-opcion profesor1" data-value="1">Opción Profesor 1</div>
        <div class="menu-opcion profesor2" data-value="2">Opción General Profesor 2</div>
        <div class="menu-opcion profesor3" data-value="3">Opción Distinta Profesor 3</div>
        <!-- Un espacio en blanco para la última celda -->
        <div style="width: 150px; height: 150px; display: inline-block;"></div>
    </div>

    <div id="menu-alumno" class="menu">
        <div class="menu-opcion alumno1" data-value="1">Opción Alumno 1</div>
        <div class="menu-opcion alumno2" data-value="2">Opción Distinta Alumno 2</div>
        <div class="menu-opcion alumno3" data-value="3">Opción General Alumno 3</div>
        <div class="menu-opcion alumno4" data-value="4">Opción General Alumno 4</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const params = new URLSearchParams(window.location.search);
            const user = params.get('user');
            const userStatusDiv = document.getElementById('user-status');
            const menuProfesor = document.getElementById('menu-profesor');
            const menuAlumno = document.getElementById('menu-alumno');
            
            if (user) {
                userStatusDiv.textContent = `Conectado: ${user}`;
                if (user === 'Profesor') {
                    menuProfesor.style.display = 'block';
                } else if (user === 'Alumno') {
                    menuAlumno.style.display = 'block';
                }
            } else {
                window.location.href = '/';
            }

            // Agregar evento de clic a todas las opciones del menú
            document.querySelectorAll('.menu-opcion').forEach(opcion => {
                opcion.addEventListener('click', function() {
                    handleMenuOptionClick(this.getAttribute('data-value'));
                });
            });
        });

        function handleMenuOptionClick(value) {
            const params = new URLSearchParams(window.location.search);
            const user = params.get('user');

            if (value === '1') {
                window.location.href = 'lector.html';
            } else if (user === 'Profesor' && value === '3') {
                window.location.href = 'paginaProfesor.html?user=' + user;
            } else if (user === 'Alumno' && value === '2') {
                window.location.href = 'paginaAlumno.html?user=' + user;
            }else{
                window.location.href = 'general.html?user=' + user;
            }
        }
    </script>
</body>
</html>
